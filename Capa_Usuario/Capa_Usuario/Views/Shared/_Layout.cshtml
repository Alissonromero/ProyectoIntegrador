@using Capa_Entidad
@using Capa_Negocio
@{ Menu_N oemeN = new Menu_N();
    Usuario_E user = (Usuario_E)Session["Usuario"];
    List<Menu_E> OpcionesMenu = oemeN.listarOpcionesMenu(user.rol);
    if (OpcionesMenu == null) { OpcionesMenu = new List<Menu_E>(); } }

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>@ViewBag.Title - COMPRAS YA</title>
    <link href="~/Content/Boostsrap/bootstrap.min.css" rel="stylesheet" type="text/css" />

    <link href="~/Content/estilos.css" rel="stylesheet" type="text/css"/>
    <link href="~/Content/alertify.min.css" rel="stylesheet" />
    <link href="~/Content/themes/default.min.css" rel="stylesheet" type="text/css"/>
    <link href="~/icomoon/style.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <script src="~/Scripts/jquery-1.10.2.min.js"></script>
    <script src="~/Scripts/bootstrap.min.js"></script>
    <script src="~/Scripts/sweetalert2@11.js"></script>
    <script src="~/Scripts/alertify.min.js"></script>
    <script src="~/Scripts/snow.js"></script>
</head>
<body>
    <div id="navegation" class="navbar navbar-inverse navbar-fixed-top container-fluid">
        <div id="container" class="w-100 h-100 mx-auto pt-4">

            <header>
                <nav class="menu" id="menu">

                    <div class="contenedor contenedor-botones-menu">
                        <button id="btn-menu-barras" class="btn-menu-barras"><i class="icon-stackoverflow"></i></button>
                        <button id="btn-menu-cerrar" class="btn-menu-cerrar"><i class="icon-cancel-circle"></i></button>
                    </div>

                    <div class="contenedor contenedor-enlaces-nav">

                        <div class="btn-departamentos" id="btn-departamentos">
                            <img style="width:80px; height:70px;" src="~/Imagenes/logo.png" />
                            <p style="font-size:10px">Todas las <span>Categorias</span></p>
                            <i class="icon-circle-down"></i>
                        </div>

                        <div class="enlaces">
                            @foreach (Menu_E o in OpcionesMenu)
                            {@*<a href="@o.NombreOperacion"><b>@o.Descripcion</b></a>*@
                                <a  href="@Url.Action(o.NombreOperacion)"><b>@o.Descripcion</b></a>
                                }
                        </div>
                    </div>

                    <div class="contenedor contenedor-grid">
                        <div class="grid" id="grid">
                            <div class="categorias">
                                <button class="btn-regresar"><i class="icon-arrow-left"></i> Regresar</button>
                                <h3 class="subtitulo">Categorias</h3>
                                <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Tecnología y Computadoras"})" data-categoria="tecnologia-y-computadoras">Tecnología y Computadoras<i class="icon-circle-right"></i></a>
                                <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Libros"})" data-categoria="libros">Libros <i class="icon-circle-right"></i></a>
                                <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Ropa y Accesorios"})" data-categoria="ropa-y-accesorios">Ropa y Accesorios <i class="icon-circle-right"></i></a>
                                <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Hogar y Cocina"})" data-categoria="hogar-y-cocina">Hogar y Cocina <i class="icon-circle-right"></i></a>
                                <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Juegos y Juguetes"})" data-categoria="juegos-y-juguetes">Juegos y Juguetes <i class="icon-circle-right"></i></a>
                                <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Salud y Belleza"})" data-categoria="salud-y-belleza">Salud y Belleza <i class="icon-circle-right"></i></a>
                                <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Alimentos y Bebidas"})" data-categoria="alimentos-y-bebidas">Alimentos y Bebidas <i class="icon-circle-right"></i></a>
                            </div>

                            <div class="contenedor-subcategorias">
                                <div class="subcategoria " data-categoria="tecnologia-y-computadoras">
                                    <div class="enlaces-subcategoria">
                                        <button class="btn-regresar"><i class="icon-arrow-left"></i>Regresar</button>
                                        <h3 class="subtitulo">Tecnología y Computadoras</h3>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Tecnología y Computadoras", y="Laptops"})">Laptops</a>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Tecnología y Computadoras", y="Tablets"})">Tablets</a>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Tecnología y Computadoras", y="Computadoras de Escritorio"})">Computadoras de Escritorio</a>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Tecnología y Computadoras", y="Monitores"})">Monitores</a>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Tecnología y Computadoras", y="Componentes"})">Componentes</a>
                                    </div>

                                    <div class="banner-subcategoria">
                                        <a href="#">
                                            <img src="~/Imagenes/tecnologia-banner-1.png" alt="">
                                        </a>
                                    </div>

                                    <div class="galeria-subcategoria">
                                        <a href="#">
                                            <img src="~/Imagenes/tecnologia-galeria-1.png" alt="">
                                        </a>
                                        <a href="#">
                                            <img src="~/Imagenes/tecnologia-galeria-2.png" alt="">
                                        </a>
                                        <a href="#">
                                            <img src="~/Imagenes/tecnologia-galeria-3.png" alt="">
                                        </a>
                                        <a href="#">
                                            <img src="~/Imagenes/tecnologia-galeria-4.png" alt="">
                                        </a>
                                    </div>
                                </div>

                                <div class="subcategoria" data-categoria="libros">
                                    <div class="enlaces-subcategoria">
                                        <button class="btn-regresar"><i class="fas fa-arrow-left"></i>Regresar</button>
                                        <h3 class="subtitulo">Libros</h3>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Libros", y="Top Sellers"})">Top Sellers</a>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Libros", y="Ciencia Ficcion"})">Ciencia Ficcion</a>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Libros", y="Fantasia"})">Fantasia</a>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Libros", y="Miedo"})">Miedo</a>
                                    </div>

                                    <div class="banner-subcategoria">
                                        <a href="#">
                                            <img src="~/Imagenes/libros-banner-1.png" alt="">
                                        </a>
                                    </div>

                                    <div class="galeria-subcategoria">
                                        <a href="#">
                                            <img src="~/Imagenes/libros-galeria-1.png" alt="">
                                        </a>
                                        <a href="#">
                                            <img src="~/Imagenes/libros-galeria-2.png" alt="">
                                        </a>
                                        <a href="#">
                                            <img src="~/Imagenes/libros-galeria-3.png" alt="">
                                        </a>
                                        <a href="#">
                                            <img src="~/Imagenes/libros-galeria-4.png" alt="">
                                        </a>
                                    </div>
                                </div>

                                <div class="subcategoria" data-categoria="ropa-y-accesorios">
                                    <div class="enlaces-subcategoria">
                                        <button class="btn-regresar"><i class="fas fa-arrow-left"></i>Regresar</button>
                                        <h3 class="subtitulo">Ropa y Accesorios</h3>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Ropa y Accesorios", y="Ropa"})">Ropa</a>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Ropa y Accesorios", y="Zapatos"})">Zapatos</a>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Ropa y Accesorios", y="Accesorios"})">Accesorios</a>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Ropa y Accesorios", y="Relojes"})">Relojes</a>
                                    </div>

                                    <div class="banner-subcategoria">
                                        <a href="#">
                                            <img src="~/Imagenes/ropa-banner-1.png" alt="">
                                        </a>
                                    </div>

                                    <div class="galeria-subcategoria">
                                        <a href="#">
                                            <img src="~/Imagenes/ropa-galeria-1.png" alt="">
                                        </a>
                                        <a href="#">
                                            <img src="~/Imagenes/ropa-galeria-2.png" alt="">
                                        </a>
                                        <a href="#">
                                            <img src="~/Imagenes/ropa-galeria-3.png" alt="">
                                        </a>
                                        <a href="#">
                                            <img src="~/Imagenes/ropa-galeria-4.png" alt="">
                                        </a>
                                    </div>
                                </div>

                                <div class="subcategoria" data-categoria="hogar-y-cocina">
                                    <div class="enlaces-subcategoria">
                                        <button class="btn-regresar"><i class="fas fa-arrow-left"></i>Regresar</button>
                                        <h3 class="subtitulo">Hogar y Cocina</h3>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Hogar y Cocina", y="Cocina"})">Cocina</a>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Hogar y Cocina", y="Electrodomesticos"})">Electrodomesticos</a>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Hogar y Cocina", y="Limpieza"})">Limpieza</a>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Hogar y Cocina", y="Baño"})">Baño</a>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Hogar y Cocina", y="Decoracion"})">Decoracion</a>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Hogar y Cocina", y="Arte"})">Arte</a>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Hogar y Cocina", y="Manualidades"})">Manualidades</a>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Hogar y Cocina", y="Jardin"})">Jardin</a>
                                    </div>

                                    <div class="banner-subcategoria">
                                        <a href="#">
                                            <img src="~/Imagenes/hogar-banner-1.png" alt="">
                                        </a>
                                    </div>

                                    <div class="galeria-subcategoria">
                                        <a href="#">
                                            <img src="~/Imagenes/hogar-galeria-1.png" alt="">
                                        </a>
                                        <a href="#">
                                            <img src="~/Imagenes/hogar-galeria-2.png" alt="">
                                        </a>
                                        <a href="#">
                                            <img src="~/Imagenes/hogar-galeria-3.png" alt="">
                                        </a>
                                        <a href="#">
                                            <img src="~/Imagenes/hogar-galeria-4.png" alt="">
                                        </a>
                                    </div>
                                </div>

                                <div class="subcategoria" data-categoria="juegos-y-juguetes">
                                    <div class="enlaces-subcategoria">
                                        <button class="btn-regresar"><i class="fas fa-arrow-left"></i>Regresar</button>
                                        <h3 class="subtitulo">Juegos y Juguetes</h3>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Juegos y Juguetes", y="Juguetes"})">Juguetes</a>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Juegos y Juguetes", y="Juegos de Mesa"})">Juegos de Mesa</a>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Juegos y Juguetes", y="Aire Libre"})">Aire Libre</a>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Juegos y Juguetes", y="Muñecas"})">Muñecas</a>
                                    </div>

                                    <div class="banner-subcategoria">
                                        <a href="#">
                                            <img src="~/Imagenes/juegos-banner-1.png" alt="">
                                        </a>
                                    </div>

                                    <div class="galeria-subcategoria">
                                        <a href="#">
                                            <img src="~/Imagenes/juegos-galeria-1.png" alt="">
                                        </a>
                                        <a href="#">
                                            <img src="~/Imagenes/juegos-galeria-2.png" alt="">
                                        </a>
                                        <a href="#">
                                            <img src="~/Imagenes/juegos-galeria-3.png" alt="">
                                        </a>
                                        <a href="#">
                                            <img src="~/Imagenes/juegos-galeria-4.png" alt="">
                                        </a>
                                    </div>
                                </div>

                                <div class="subcategoria" data-categoria="salud-y-belleza">
                                    <div class="enlaces-subcategoria">
                                        <button class="btn-regresar"><i class="fas fa-arrow-left"></i>Regresar</button>
                                        <h3 class="subtitulo">Salud y Belleza</h3>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Salud y Belleza", y="Cuidado de la Piel"})">Cuidado de la Piel</a>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Salud y Belleza", y="Maquillaje"})">Maquillaje</a>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Salud y Belleza", y="Lociones"})">Lociones</a>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Salud y Belleza", y="Shampoo"})">Shampoo</a>
                                    </div>

                                    <div class="banner-subcategoria">
                                        <a href="#">
                                            <img src="~/Imagenes/belleza-banner-1.png" alt="">
                                        </a>
                                    </div>

                                    <div class="galeria-subcategoria">
                                        <a href="#">
                                            <img src="~/Imagenes/belleza-galeria-1.png" alt="">
                                        </a>
                                        <a href="#">
                                            <img src="~/Imagenes/belleza-galeria-2.png" alt="">
                                        </a>
                                        <a href="#">
                                            <img src="~/Imagenes/belleza-galeria-3.png" alt="">
                                        </a>
                                        <a href="#">
                                            <img src="~/Imagenes/belleza-galeria-4.png" alt="">
                                        </a>
                                    </div>
                                </div>

                                <div class="subcategoria" data-categoria="alimentos-y-bebidas">
                                    <div class="enlaces-subcategoria">
                                        <button class="btn-regresar"><i class="fas fa-arrow-left"></i>Regresar</button>
                                        <h3 class="subtitulo">Alimentos y Bebidas</h3>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Alimentos y Bebidas", y="Alimentos"})">Alimentos</a>
                                        <a href="@Url.Action("ListadoProductos","ComprasYa", new { x="Alimentos y Bebidas", y="Bebidas"})">Bebidas</a>
                                    </div>

                                    <div class="banner-subcategoria">
                                        <a href="#">
                                            <img src="~/Imagenes/comida-banner-1.png" alt="">
                                        </a>
                                    </div>

                                    <div class="galeria-subcategoria">
                                        <a href="#">
                                            <img src="~/Imagenes/comida-galeria-1.png" alt="">
                                        </a>
                                        <a href="#">
                                            <img src="~/Imagenes/comida-galeria-2.png" alt="">
                                        </a>
                                        <a href="#">
                                            <img src="~/Imagenes/comida-galeria-3.png" alt="">
                                        </a>
                                        <a href="#">
                                            <img src="~/Imagenes/comida-galeria-4.png" alt="">
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </nav>
            </header>
        </div>
    </div>
    <main>
        <div class="container" style="margin-top: 100px; text-align: center;">
            <p class="name">Hola! @user.nombre&nbsp;<span class="icon-user"></span></p>
            @RenderBody()
        </div>
    </main>
    <footer>
        <div class="contenedor">
            <p class="copy">&copy; CIBERTEC Todos los derechos reservados @DateTime.Now.Year</p>
            <div class="sociales">
                <a class="icon-linkedin" href="#"></a>
                <a class="icon-google-plus" href="#"></a>
                <a class="icon-facebook" href="#"></a>
            </div>
        </div>
    </footer>

</body>
</html>
<!--
<script type="text/javascript">
    history.forward() $(document).ready(function () {
        $.fn.snow();
    });
</script>-->
<script>
    $(document).ready(function () {

    
        const btnDepartamentos = document.getElementById('btn-departamentos'),
            btnCerrarMenu = document.getElementById('btn-menu-cerrar'),
            grid = document.getElementById('grid'),
            contenedorEnlacesNav = document.querySelector('#menu .contenedor-enlaces-nav'),
            contenedorSubCategorias = document.querySelector('#grid .contenedor-subcategorias'),
            esDispositivoMovil = () => window.innerWidth <= 800;

        btnDepartamentos.addEventListener('mouseover', () => {
            if (!esDispositivoMovil()) {
                grid.classList.add('activo');
            }
        });

        grid.addEventListener('mouseleave', () => {
            if (!esDispositivoMovil()) {
                grid.classList.remove('activo');
            }
        });

        document.querySelectorAll('#menu .categorias a').forEach((elemento) => {
            elemento.addEventListener('mouseenter', (e) => {
                if (!esDispositivoMovil()) {
                    document.querySelectorAll('#menu .subcategoria').forEach((categoria) => {
                        categoria.classList.remove('activo');
                        if (categoria.dataset.categoria == e.target.dataset.categoria) {
                            categoria.classList.add('activo');
                        }
                    });
                };
            });
        });

        // EventListeners para dispositivo movil.
        document.querySelector('#btn-menu-barras').addEventListener('click', (e) => {
            e.preventDefault();
            if (contenedorEnlacesNav.classList.contains('activo')) {
                contenedorEnlacesNav.classList.remove('activo');
                document.querySelector('body').style.overflow = 'visible';
            } else {
                contenedorEnlacesNav.classList.add('activo');
                document.querySelector('body').style.overflow = 'hidden';
            }
        });

        // Click en boton de todos los departamentos (Para version movil).
        btnDepartamentos.addEventListener('click', (e) => {
            e.preventDefault();
            grid.classList.add('activo');
            btnCerrarMenu.classList.add('activo');
        });

        // Boton de regresar en el menu de categorias
        document.querySelector('#grid .categorias .btn-regresar').addEventListener('click', (e) => {
            e.preventDefault();
            grid.classList.remove('activo');
            btnCerrarMenu.classList.remove('activo');
        });

        document.querySelectorAll('#menu .categorias a').forEach((elemento) => {
            elemento.addEventListener('click', (e) => {
                if (esDispositivoMovil()) {
                    contenedorSubCategorias.classList.add('activo');
                    document.querySelectorAll('#menu .subcategoria').forEach((categoria) => {
                        categoria.classList.remove('activo');
                        if (categoria.dataset.categoria == e.target.dataset.categoria) {
                            categoria.classList.add('activo');
                        }
                    });
                }
            });
        });

        // Boton de regresar en el menu de categorias
        document.querySelectorAll('#grid .contenedor-subcategorias .btn-regresar').forEach((boton) => {
            boton.addEventListener('click', (e) => {
                e.preventDefault();
                contenedorSubCategorias.classList.remove('activo');
            });
        });

        btnCerrarMenu.addEventListener('click', (e) => {
            e.preventDefault();
            document.querySelectorAll('#menu .activo').forEach((elemento) => {
                elemento.classList.remove('activo');
            });
            document.querySelector('body').style.overflow = 'visible';
        });

        ///
        window.watsonAssistantChatOptions = {
            integrationID: "b6b163e1-40bf-44d7-9648-9d52b2448aed", // The ID of this integration.
            region: "us-south", // The region your integration is hosted in.
            serviceInstanceID: "51cda7ca-7821-4a94-972b-d528e8d67219", // The ID of your service instance.
            onLoad: function (instance) { instance.render(); }
        };
        setTimeout(function () {
            const t = document.createElement('script');
            t.src = "https://web-chat.global.assistant.watson.appdomain.cloud/versions/" + (window.watsonAssistantChatOptions.clientVersion || 'latest') + "/WatsonAssistantChatEntry.js"
            document.head.appendChild(t);
        });
    });
    
</script>